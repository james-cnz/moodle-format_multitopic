{"version":3,"sources":["../src/multitopic.js"],"names":["init","tabcontent","document","querySelector","on","changeName","e","target","dataset","itemtype","sectionid","itemid","newname","value","tabs","querySelectorAll","ti","length","innerHTML"],"mappings":"mKAwBA,uDAQO,GAAMA,CAAAA,CAAI,CAAG,UAAM,CACtB,GAAIC,CAAAA,CAAU,CAAGC,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,CAAjB,CACA,cAAOF,CAAP,EAAmBG,EAAnB,CAAsB,SAAtB,CAAiCC,CAAjC,EACA,QACH,CAJM,C,SAUA,GAAMA,CAAAA,CAAU,CAAG,SAACC,CAAD,CAAO,CAC7B,GAAkC,aAA9B,GAAAA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,QAArB,CAAiD,CAI7C,OAHIC,CAAAA,CAAS,CAAGJ,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBG,MAGjC,CAFIC,CAAO,CAAGN,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBK,KAE/B,CADIC,CAAI,CAAGZ,QAAQ,CAACa,gBAAT,CAA0B,uCAAyCL,CAAzC,CAAqD,IAA/E,CACX,CAASM,CAAE,CAAG,CAAd,CAAiBA,CAAE,CAAGF,CAAI,CAACG,MAA3B,CAAmCD,CAAE,EAArC,CAAyC,CACrCF,CAAI,CAACE,CAAD,CAAJ,CAASE,SAAT,CAAqBN,CACxB,CACJ,CACJ,CATM,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Additional scripts for Multitopic course format.\n *\n * @module     format/multitopic\n * @copyright  Te WÄnanga o Aotearoa\n * @author     Jeremy FitzPatrick\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport jQuery from 'jquery';\n\n/**\n * Set up the Multitopic course page with eventlistener\n *  for updating tabs when section name is changed.\n *\n * @return {boolean}\n */\nexport const init = () => {\n    let tabcontent = document.querySelector(\".course-content ul.sections\");\n    jQuery(tabcontent).on('updated', changeName);\n    return true;\n};\n\n/**\n * Update the First and Second level tabs when the inplace editable section name is changed.\n * @param {event} e\n */\nexport const changeName = (e) => {\n    if (e.target.dataset.itemtype === 'sectionname') {\n        let sectionid = e.target.dataset.itemid;\n        let newname = e.target.dataset.value;\n        let tabs = document.querySelectorAll(\".nav-tabs .tab_content[data-itemid='\" + sectionid + \"']\");\n        for (let ti = 0; ti < tabs.length; ti++) {\n            tabs[ti].innerHTML = newname;\n        }\n    }\n};\n"],"file":"multitopic.min.js"}